//*****************************************************************************************************************//
// Libreria de funciones auxiliares para el envío de información en formularios.                                   //
//*****************************************************************************************************************//
// v.01.00.00 || 03.01.2019 || Versión Inicial                                                                     //
//*****************************************************************************************************************//
app.factory("form", [function() {

	//*************************************************************************************************************//
	// INTERFAZ PUBLICA FORMLIB: Funciones que ofrece el servicio formLib.                                         //
	//*************************************************************************************************************//
	return {
		impo  : impo,
		date  : date,
		toDate: toDate
	};

	//*************************************************************************************************************//
	// PUBLIC: impo: Función que adapta el formato de importes.                                                    //
	//*************************************************************************************************************//
	function impo(i) {
		return i.toString().replace(',', '.');
	}

	//*************************************************************************************************************//
	// PUBLIC: date: Función que adapta el formato de fechas.                                                      //
	//*************************************************************************************************************//
	function date(d) {
		if (d === undefined || d === '' || d === null) {
			return 0;
		} else {
			var yf=d.getFullYear();           
			var mf=d.getMonth() + 1;
			var df=d.getDate();
			return (yf*10000)+(mf*100)+df;
		}
	}

	//*************************************************************************************************************//
	// PUBLIC: date: Función que adapta el formato de fechas.                                                      //
	//*************************************************************************************************************//
	function toDate(n) {
		if (n === undefined || n === 0 || n === null) {
			return new Date();
		} else {
			var d = new Date();
			yyyy = n.toString().substring(0, 4);
			mm = n.toString().substring(4, 6);
			dd = n.toString().substring(6, 8);
			d.setFullYear(yyyy);
			d.setMonth(mm - 1);
			d.setDate(dd);
			return d;
		}
	}
}]);